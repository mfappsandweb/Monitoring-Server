# CREATE MONITORING DATABASE
CREATE DATABASE IF NOT EXISTS monitoring_server;
USE monitoring_server;

# CREATE TABLES
CREATE TABLE IF NOT EXISTS device_log (
    id INT(18) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    hostname VARCHAR(64),
    system_name VARCHAR(64),
    system_version VARCHAR(64),
    cpu_count INT(2),
    cpu_usage NUMERIC(3, 1),
    memory_total INT(24),
    memory_used INT(24),
    memory_used_percent NUMERIC(3, 1),
    network_up FLOAT,
    network_down FLOAT,
    timestamp TIMESTAMP
);
CREATE TABLE IF NOT EXISTS device_drives(
    id INT(18) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(32),
    mount_point VARCHAR(32),
    type VARCHAR(16),
    total_size INT(24),
    used_size INT(24),
    used_percent NUMERIC(3, 1),
    host_id INT(18),
    FOREIGN KEY (host_id) REFERENCES device_log(id) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS users(
    id INT(18) NOT NULL AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255),
    password VARCHAR(32),
    email VARCHAR(255)
);